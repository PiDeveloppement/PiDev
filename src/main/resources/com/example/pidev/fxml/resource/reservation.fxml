<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<VBox spacing="15.0" style="-fx-background-color: #f8fafc;" xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.pidev.controller.resource.ReservationController">
    <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0" /></padding>

    <Label text="Gestion des RÃ©servations" style="-fx-font-size: 24; -fx-font-weight: bold;" />

    <HBox spacing="20.0" style="-fx-background-color: white; -fx-padding: 15; -fx-background-radius: 12; -fx-border-color: #e2e8f0;">
        <VBox spacing="10" HBox.hgrow="ALWAYS">
            <GridPane hgap="10" vgap="10">
                <DatePicker fx:id="startDatePicker" promptText="DÃ©but" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <DatePicker fx:id="endDatePicker" promptText="Fin" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                <ComboBox fx:id="typeCombo" promptText="Type" GridPane.columnIndex="0" GridPane.rowIndex="1" maxWidth="Infinity"/>
                <ComboBox fx:id="itemCombo" promptText="Ressource" GridPane.columnIndex="1" GridPane.rowIndex="1" maxWidth="Infinity"/>
                <TextField fx:id="quantityField" promptText="QtÃ©" text="1" GridPane.columnIndex="2" GridPane.rowIndex="1" prefWidth="50"/>
            </GridPane>
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button onAction="#cancelEdit" text="Reset" />
                <Button fx:id="btnValider" onAction="#validerAction" text="RÃ©server" style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-font-weight: bold;" />
            </HBox>
        </VBox>
        <VBox alignment="CENTER" spacing="5" style="-fx-border-color: #cbd5e1; -fx-padding: 10; -fx-background-color: #f8fafc;">
            <Label text="AperÃ§u" style="-fx-font-size: 10;"/>
            <ImageView fx:id="imagePreview" fitHeight="90" fitWidth="90" preserveRatio="true" />
        </VBox>
    </HBox>

    <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 10; -fx-background-radius: 10; -fx-border-color: #e2e8f0;">
        <TextField fx:id="searchField" promptText="ðŸ” Rechercher ressource ou type..." prefWidth="300" style="-fx-background-radius: 20;"/>
        <ComboBox fx:id="sortCombo" promptText="Trier par date" style="-fx-background-radius: 15;">
            <items>
                <FXCollections fx:factory="observableArrayList">
                    <String fx:value="Plus rÃ©cent" />
                    <String fx:value="Plus ancien" />
                </FXCollections>
            </items>
        </ComboBox>
        <Region HBox.hgrow="ALWAYS" />
        <Button onAction="#exportToPDF" text="ðŸ“„ Export PDF" style="-fx-background-color: #e11d48; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand;"/>
    </HBox>

    <TableView fx:id="reservationTable" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn fx:id="imgCol" text="AperÃ§u" prefWidth="80" />
            <TableColumn fx:id="idCol" text="ID" prefWidth="50" />
            <TableColumn fx:id="typeCol" text="Type" prefWidth="100" />
            <TableColumn fx:id="nameCol" text="Ressource" prefWidth="150" />
            <TableColumn fx:id="startCol" text="Date DÃ©but" prefWidth="150" />
            <TableColumn fx:id="endCol" text="Date Fin" prefWidth="150" />
            <TableColumn fx:id="qtyCol" text="QtÃ©" prefWidth="60" />
            <TableColumn fx:id="actionCol" text="Actions" prefWidth="120" />
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
        </columnResizePolicy>
    </TableView>
</VBox>